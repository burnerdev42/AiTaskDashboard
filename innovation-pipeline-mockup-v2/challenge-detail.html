<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Challenge Details – Innovation Pipeline</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" />
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --bg-primary:    #0a1929;
      --bg-secondary:  #0f2744;
      --bg-card:       #1a3a5a;
      --bg-card-hover: #214565;
      --border:        #2a4560;
      --border-light:  #355070;

      --text-primary:  #e8eaf6;
      --text-secondary:#9a9dba;
      --text-muted:    #6b6e8a;

      --accent-teal:   #e8a758;
      --accent-blue:   #f0b870;
      --accent-green:  #66bb6a;
      --accent-orange: #ffa726;
      --accent-red:    #ef5350;
      --accent-purple: #ab47bc;
      --accent-pink:   #ec407a;
      --accent-yellow: #ffee58;

      --radius:        12px;
      --radius-sm:     8px;
    }

    body {
      font-family: 'Inter', system-ui, sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      min-height: 100vh;
    }

    /* ── Header ──────────────────────────── */
    .header-band {
      background: linear-gradient(135deg, #1a4d7a 0%, #15395f 40%, #0a1929 100%);
      border-bottom: 2px solid var(--accent-teal);
      padding: 18px 36px;
      display: flex; align-items: center; justify-content: space-between;
      position: sticky; top: 0; z-index: 100;
    }
    .header-left { display: flex; align-items: center; gap: 18px; }
    .header-logo {
      width: 48px; height: 48px;
      border-radius: 10px; display: flex; align-items: center; justify-content: center;
      font-weight: 300; font-size: 36px;
      background: linear-gradient(135deg, #ffffff, #f0b870, #e8a758);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
      line-height: 1;
      filter: drop-shadow(0 2px 8px rgba(232,167,88,0.3));
    }
    .header-titles h1 {
      font-size: 22px; font-weight: 300; letter-spacing: 8px;
      text-transform: uppercase;
      background: linear-gradient(135deg, #ffffff, #f0f0f0, #e8a758);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
      text-shadow: 0 2px 12px rgba(232,167,88,0.2);
    }
    .header-titles p {
      font-size: 13px; font-weight: 500; color: #f0b870;
      letter-spacing: 3px; margin-top: 4px;
      text-shadow: 0 1px 6px rgba(240,184,112,0.4);
    }
    .header-right { display: flex; align-items: center; gap: 16px; }
    .header-right .nav-link {
      color: var(--text-secondary); text-decoration: none; font-size: 13px;
      font-weight: 500; padding: 6px 14px; border-radius: 6px;
      transition: all .2s;
    }
    .header-right .nav-link:hover { color: var(--accent-teal); background: rgba(232,167,88,.08); }
    .header-right .nav-link.active { color: var(--accent-teal); background: rgba(232,167,88,.12); }

    /* ── What's Next Special Nav ────────────────── */
    .header-right .nav-link.whats-next-link {
      position: relative;
      background: linear-gradient(135deg, rgba(171,71,188,.2), rgba(232,167,88,.15));
      border: 1px solid rgba(171,71,188,.4);
      border-radius: 20px;
      padding: 6px 18px;
      font-weight: 700;
      letter-spacing: 0.5px;
      color: #e0b0ff;
      overflow: hidden;
      animation: glowPulse 2.5s ease-in-out infinite;
    }
    .header-right .nav-link.whats-next-link::before {
      content: ''; -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%23e0b0ff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z'/%3E%3Cpath d='M20 3v4'/%3E%3Cpath d='M22 5h-4'/%3E%3Cpath d='M4 17v2'/%3E%3Cpath d='M5 18H3'/%3E%3C/svg%3E"); mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%23e0b0ff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z'/%3E%3Cpath d='M20 3v4'/%3E%3Cpath d='M22 5h-4'/%3E%3Cpath d='M4 17v2'/%3E%3Cpath d='M5 18H3'/%3E%3C/svg%3E"); -webkit-mask-size: contain; mask-size: contain; -webkit-mask-repeat: no-repeat; mask-repeat: no-repeat; background: currentColor; width: 12px; height: 12px;
      margin-right: 5px;
      font-size: 12px;
      display: inline-block;
      animation: floatIcon 2s ease-in-out infinite;
    }
    .header-right .nav-link.whats-next-link::after {
      content: '';
      position: absolute;
      top: 0; left: -100%;
      width: 100%; height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.15), transparent);
      animation: shimmer 3s ease-in-out infinite;
    }
    .header-right .nav-link.whats-next-link:hover {
      background: linear-gradient(135deg, rgba(171,71,188,.35), rgba(232,167,88,.3));
      border-color: rgba(232,167,88,.6);
      color: #fff;
      transform: translateY(-1px);
      box-shadow: 0 4px 18px rgba(171,71,188,.3), 0 0 12px rgba(232,167,88,.2);
    }
    @keyframes glowPulse {
      0%, 100% { box-shadow: 0 0 6px rgba(171,71,188,.15), 0 0 2px rgba(232,167,88,.1); }
      50%      { box-shadow: 0 0 14px rgba(171,71,188,.35), 0 0 6px rgba(232,167,88,.2); }
    }
    @keyframes shimmer {
      0%   { left: -100%; }
      60%  { left: 100%; }
      100% { left: 100%; }
    }
    @keyframes floatIcon {
      0%, 100% { transform: translateY(0) scale(1); }
      50%      { transform: translateY(-2px) scale(1.15); }
    }

    .header-right .avatar {
      width: 38px; height: 38px; border-radius: 50%;
      background: var(--accent-teal); display: flex;
      align-items: center; justify-content: center;
      font-weight: 700; font-size: 15px; color: #0d0f1a;
    }

    /* ── Notification Bell ──────────────── */
    .notification-wrapper {
      position: relative;
    }
    .notification-bell {
      position: relative;
      width: 38px; height: 38px;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      cursor: pointer;
      transition: all .2s;
      font-size: 18px;
    }
    .notification-bell:hover {
      background: var(--bg-card-hover);
      border-color: var(--accent-teal);
    }
    .notification-badge {
      position: absolute;
      top: -4px; right: -4px;
      width: 18px; height: 18px;
      background: var(--accent-red);
      border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      font-size: 10px; font-weight: 700;
      color: #fff;
      border: 2px solid var(--bg-primary);
    }
    .notification-panel {
      position: absolute;
      top: calc(100% + 12px);
      right: 0;
      width: 380px;
      max-height: 480px;
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: 0 4px 24px rgba(0,0,0,.35);
      display: none;
      flex-direction: column;
      z-index: 200;
    }
    .notification-panel.active {
      display: flex;
    }
    .notification-header {
      padding: 16px 20px;
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .notification-header h3 {
      font-size: 15px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    .mark-all-read {
      font-size: 11px;
      color: var(--accent-teal);
      cursor: pointer;
      padding: 4px 8px;
      border-radius: 4px;
      transition: all .2s;
    }
    .mark-all-read:hover {
      background: rgba(232,167,88,.1);
    }
    .notification-list {
      overflow-y: auto;
      max-height: 400px;
    }
    .notification-list::-webkit-scrollbar {
      width: 6px;
    }
    .notification-list::-webkit-scrollbar-track {
      background: var(--bg-card);
    }
    .notification-list::-webkit-scrollbar-thumb {
      background: var(--border-light);
      border-radius: 3px;
    }
    .notification-item {
      padding: 14px 20px;
      border-bottom: 1px solid var(--border);
      cursor: pointer;
      transition: all .2s;
      display: flex;
      gap: 12px;
    }
    .notification-item:hover {
      background: var(--bg-card-hover);
    }
    .notification-item.unread {
      background: rgba(232,167,88,.05);
    }
    .notification-item:last-child {
      border-bottom: none;
    }
    .notification-icon {
      width: 36px; height: 36px;
      border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      font-size: 16px;
      flex-shrink: 0;
    }
    .notification-icon.challenge {
      background: rgba(255,167,38,.15);
      color: var(--accent-orange);
    }
    .notification-icon.idea {
      background: rgba(232,167,88,.15);
      color: var(--accent-teal);
    }
    .notification-icon.comment {
      background: rgba(240,184,112,.15);
      color: var(--accent-blue);
    }
    .notification-icon.status {
      background: rgba(102,187,106,.15);
      color: var(--accent-green);
    }
    .notification-content {
      flex: 1;
    }
    .notification-title {
      font-size: 13px;
      font-weight: 600;
      margin-bottom: 4px;
      line-height: 1.4;
    }
    .notification-text {
      font-size: 12px;
      color: var(--text-secondary);
      line-height: 1.5;
    }
    .notification-time {
      font-size: 11px;
      color: var(--text-muted);
      margin-top: 4px;
    }
    .notification-footer {
      padding: 12px 20px;
      border-top: 1px solid var(--border);
      text-align: center;
    }
    .view-all-link {
      font-size: 12px;
      color: var(--accent-teal);
      text-decoration: none;
      font-weight: 600;
      transition: all .2s;
    }
    .view-all-link:hover {
      color: var(--accent-blue);
    }

    /* ── Main Container ──────────────────── */
    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 32px 36px;
    }

    /* ── Breadcrumb ──────────────────────── */
    .breadcrumb {
      display: flex; align-items: center; gap: 8px;
      font-size: 13px; color: var(--text-secondary);
      margin-bottom: 24px;
    }
    .breadcrumb a {
      color: var(--text-secondary);
      text-decoration: none;
      transition: color .2s;
    }
    .breadcrumb a:hover { color: var(--accent-teal); }
    .breadcrumb .sep { color: var(--text-muted); }
    .breadcrumb .current { color: var(--text-primary); }

    /* ── Page Header ─────────────────────── */
    .page-header {
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 28px 32px;
      margin-bottom: 24px;
      border-top: 3px solid var(--accent-red);
    }
    .page-header-top {
      display: flex; align-items: flex-start; justify-content: space-between;
      margin-bottom: 20px;
    }
    .page-header-left {
      flex: 1;
    }
    .challenge-id {
      display: inline-flex; align-items: center; gap: 6px;
      font-size: 12px; font-weight: 700; text-transform: uppercase;
      letter-spacing: 1px; color: var(--text-muted);
      margin-bottom: 12px;
    }
    .challenge-id .priority-dot {
      width: 8px; height: 8px; border-radius: 50%;
      background: var(--accent-red);
    }
    .page-title {
      font-size: 28px; font-weight: 700; margin-bottom: 12px;
      line-height: 1.3;
    }
    .page-title.edit-mode {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 12px 16px;
      font-size: 24px;
      color: var(--text-primary);
      width: 100%;
      font-family: inherit;
      resize: none;
      min-height: 60px;
    }
    .page-title.edit-mode:focus {
      outline: none;
      border-color: var(--accent-teal);
    }
    .page-subtitle {
      font-size: 14px; color: var(--text-secondary);
      line-height: 1.6;
    }
    .page-subtitle.edit-mode {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 12px 16px;
      font-size: 14px;
      color: var(--text-primary);
      width: 100%;
      font-family: inherit;
      resize: vertical;
      min-height: 100px;
    }
    .page-subtitle.edit-mode:focus {
      outline: none;
      border-color: var(--accent-teal);
    }
    .page-header-right {
      display: flex; gap: 10px;
      flex-shrink: 0;
    }
    .btn {
      padding: 10px 20px;
      border-radius: 8px;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      border: none;
      transition: all .2s;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }
    .btn-primary {
      background: linear-gradient(135deg, var(--accent-teal), var(--accent-blue));
      color: #0d0f1a;
    }
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(232,167,88,.3);
    }
    .btn-secondary {
      background: var(--bg-card);
      color: var(--text-primary);
      border: 1px solid var(--border);
    }
    .btn-secondary:hover {
      border-color: var(--accent-teal);
      color: var(--accent-teal);
    }
    .btn-danger {
      background: rgba(239,83,80,.1);
      color: var(--accent-red);
      border: 1px solid var(--accent-red);
    }
    .btn-danger:hover {
      background: var(--accent-red);
      color: #fff;
    }

    .meta-row {
      display: flex; gap: 24px;
      flex-wrap: wrap;
    }
    .meta-item {
      display: flex; align-items: center; gap: 8px;
      font-size: 13px; color: var(--text-secondary);
    }
    .meta-item .icon {
      font-size: 16px;
      color: var(--accent-teal);
    }
    .meta-item strong {
      color: var(--text-primary);
      font-weight: 600;
    }

    /* ── Main Grid ───────────────────────── */
    .main-grid {
      display: grid;
      grid-template-columns: 1fr 380px;
      gap: 24px;
    }

    /* ── Content Section ─────────────────── */
    .content-section {
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 24px 28px;
      margin-bottom: 16px;
    }
    .section-header {
      display: flex; align-items: center; justify-content: space-between;
      margin-bottom: 16px;
    }
    .section-title {
      font-size: 16px; font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1.2px;
      display: flex; align-items: center; gap: 10px;
    }
    .section-title .icon {
      font-size: 18px;
    }
    .section-content {
      font-size: 14px;
      line-height: 1.6;
      color: var(--text-secondary);
    }
    .section-content.edit-mode {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 12px 16px;
      font-size: 14px;
      color: var(--text-primary);
      width: 100%;
      font-family: inherit;
      resize: vertical;
      min-height: 120px;
    }
    .section-content.edit-mode:focus {
      outline: none;
      border-color: var(--accent-teal);
    }

    /* ── Form Fields ─────────────────────── */
    .form-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      margin-top: 16px;
    }
    .form-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .form-group.full-width {
      grid-column: 1 / -1;
    }
    .form-label {
      font-size: 12px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: var(--text-muted);
    }
    .form-input, .form-select {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 10px 14px;
      font-size: 14px;
      color: var(--text-primary);
      font-family: inherit;
    }
    .form-input:focus, .form-select:focus {
      outline: none;
      border-color: var(--accent-teal);
    }

    /* ── Sidebar ─────────────────────────── */
    .sidebar-section {
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 20px 24px;
      margin-bottom: 16px;
    }
    .sidebar-title {
      font-size: 13px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1.2px;
      color: var(--text-muted);
      margin-bottom: 16px;
    }
    .stat-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 0;
      border-bottom: 1px solid var(--border);
    }
    .stat-row:last-child { border-bottom: none; }
    .stat-label {
      font-size: 13px;
      color: var(--text-secondary);
    }
    .stat-value {
      font-size: 20px;
      font-weight: 700;
    }
    .stat-value.red { color: var(--accent-red); }
    .stat-value.orange { color: var(--accent-orange); }
    .stat-value.green { color: var(--accent-green); }
    .stat-value.blue { color: var(--accent-blue); }

    /* ── Status Badge ────────────────────── */
    .status-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 14px;
      border-radius: 20px;
      font-size: 11px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    .status-badge.submitted {
      background: rgba(239,83,80,.12);
      color: var(--accent-red);
      border: 1px solid rgba(239,83,80,.3);
    }
    .status-badge.active-status {
      background: rgba(102,187,106,.12);
      color: var(--accent-green);
      border: 1px solid rgba(102,187,106,.3);
    }
    .status-badge.pending-status {
      background: rgba(255,238,88,.12);
      color: var(--accent-yellow);
      border: 1px solid rgba(255,238,88,.3);
    }
    .status-badge.declined-status {
      background: rgba(239,83,80,.12);
      color: var(--accent-red);
      border: 1px solid rgba(239,83,80,.3);
    }
    .status-badge.ideation {
      background: rgba(255,238,88,.12);
      color: var(--accent-yellow);
      border: 1px solid rgba(255,238,88,.3);
    }
    .status-badge.evaluation {
      background: rgba(255,167,38,.12);
      color: var(--accent-orange);
      border: 1px solid rgba(255,167,38,.3);
    }

    /* ── Activity Feed ───────────────────── */
    .activity-item {
      display: flex;
      gap: 12px;
      padding: 16px 0;
      border-bottom: 1px solid var(--border);
    }
    .activity-item:last-child { border-bottom: none; }
    .activity-avatar {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: var(--accent-blue);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 14px;
      color: #0d0f1a;
      flex-shrink: 0;
    }
    .activity-content {
      flex: 1;
    }
    .activity-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 6px;
    }
    .activity-author {
      font-size: 13px;
      font-weight: 600;
      color: var(--text-primary);
    }
    .activity-time {
      font-size: 11px;
      color: var(--text-muted);
    }
    .activity-text {
      font-size: 13px;
      line-height: 1.5;
      color: var(--text-secondary);
    }

    /* ── Comment Box ─────────────────────── */
    .comment-box {
      margin-top: 16px;
    }
    .comment-input {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 12px 16px;
      font-size: 13px;
      color: var(--text-primary);
      width: 100%;
      font-family: inherit;
      resize: vertical;
      min-height: 80px;
      margin-bottom: 10px;
    }
    .comment-input:focus {
      outline: none;
      border-color: var(--accent-teal);
    }

    /* ── Tags ────────────────────────────── */
    .tags-list {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    .tag {
      padding: 4px 12px;
      border-radius: 16px;
      font-size: 11px;
      font-weight: 600;
      background: rgba(232,167,88,.1);
      color: var(--accent-teal);
      border: 1px solid rgba(232,167,88,.2);
    }

    /* ── Ideas Section (Enhanced) ────────── */
    .ideas-section {
      background: linear-gradient(135deg, rgba(232,167,88,.08), rgba(240,184,112,.05));
      border: 2px solid var(--accent-teal);
      border-radius: var(--radius);
      padding: 20px 24px;
      margin-bottom: 16px;
    }
    .ideas-section .sidebar-title {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 14px;
      margin-bottom: 16px;
      color: var(--accent-teal);
    }
    .ideas-section .sidebar-title .count {
      background: rgba(232,167,88,.2);
      color: var(--accent-teal);
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 700;
    }
    .ideas-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
      max-height: 420px;
      overflow-y: auto;
      padding-right: 8px;
    }
    .ideas-list::-webkit-scrollbar {
      width: 6px;
    }
    .ideas-list::-webkit-scrollbar-track {
      background: rgba(232,167,88,.05);
      border-radius: 3px;
    }
    .ideas-list::-webkit-scrollbar-thumb {
      background: var(--accent-teal);
      border-radius: 3px;
    }
    .ideas-list::-webkit-scrollbar-thumb:hover {
      background: var(--accent-blue);
    }
    .idea-item {
      padding: 14px;
      background: var(--bg-card);
      border-radius: 8px;
      border: 1px solid var(--border);
      transition: all .2s;
      cursor: pointer;
    }
    .idea-item:hover {
      border-color: var(--accent-teal);
      transform: translateX(4px);
      box-shadow: 0 4px 12px rgba(232,167,88,.15);
    }
    .idea-item .idea-title {
      font-size: 13px;
      font-weight: 600;
      margin-bottom: 6px;
      color: var(--text-primary);
    }
    .idea-item .idea-meta {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 11px;
      color: var(--text-muted);
      margin-bottom: 8px;
    }
    .idea-item .idea-stats {
      display: flex;
      gap: 12px;
      font-size: 11px;
      color: var(--text-secondary);
    }
    .idea-item .idea-stats span {
      display: flex;
      align-items: center;
      gap: 4px;
    }
    .idea-badge {
      display: inline-block;
      padding: 3px 8px;
      border-radius: 10px;
      font-size: 10px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .idea-badge.active {
      background: rgba(102,187,106,.15);
      color: var(--accent-green);
    }
    .idea-badge.pending {
      background: rgba(255,238,88,.15);
      color: var(--accent-yellow);
    }
    .idea-badge.declined {
      background: rgba(239,83,80,.15);
      color: var(--accent-red);
    }

    /* ── Idea Status Filter Tabs ── */
    .idea-filter-bar {
      display: flex;
      gap: 6px;
      margin-bottom: 14px;
      flex-wrap: wrap;
    }
    .idea-filter-tab {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 5px 12px;
      border-radius: 16px;
      font-size: 11px;
      font-weight: 600;
      cursor: pointer;
      border: 1px solid var(--border);
      background: var(--bg-card);
      color: var(--text-secondary);
      transition: all .2s;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .idea-filter-tab:hover {
      border-color: var(--accent-teal);
      color: var(--text-primary);
    }
    .idea-filter-tab.active-tab {
      background: rgba(232,167,88,.12);
      border-color: var(--accent-teal);
      color: var(--accent-teal);
    }
    .idea-filter-tab .dot {
      width: 7px; height: 7px;
      border-radius: 50%;
    }
    .idea-filter-tab .dot.all   { background: var(--accent-teal); }
    .idea-filter-tab .dot.green { background: var(--accent-green); }
    .idea-filter-tab .dot.yellow{ background: var(--accent-yellow); }
    .idea-filter-tab .dot.red   { background: var(--accent-red); }
    .idea-filter-tab .count {
      background: rgba(255,255,255,.08);
      padding: 1px 6px;
      border-radius: 8px;
      font-size: 10px;
    }
    .idea-empty-state {
      text-align: center;
      padding: 28px 16px;
      color: var(--text-muted);
      font-size: 13px;
    }
    .idea-empty-state .icon { font-size: 28px; margin-bottom: 8px; opacity: .5; }

    /* Owner identification badge */
    .owner-badge {
      display: inline-flex;
      align-items: center;
      gap: 3px;
      padding: 2px 7px;
      border-radius: 8px;
      font-size: 9px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      background: linear-gradient(135deg, rgba(232,167,88,.18), rgba(240,184,112,.12));
      color: var(--accent-teal);
      border: 1px solid rgba(232,167,88,.3);
      margin-left: 6px;
    }
    .owner-badge svg { width: 10px; height: 10px; }
    .idea-item.is-mine {
      border-left: 3px solid var(--accent-teal);
    }
    .add-idea-btn {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 14px;
      border-radius: 6px;
      font-size: 12px;
      font-weight: 600;
      background: linear-gradient(135deg, var(--accent-teal), var(--accent-blue));
      color: #0d0f1a;
      border: none;
      cursor: pointer;
      transition: all .2s;
    }
    .add-idea-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(232,167,88,.4);
    }
    /* Modal Dialog for Add Idea */
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.85);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      backdrop-filter: blur(4px);
      animation: fadeIn 0.2s ease;
    }
    .modal-overlay.active {
      display: flex;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .modal-dialog {
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      width: 90%;
      max-width: 600px;
      max-height: 90vh;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      animation: slideUp 0.3s ease;
      box-shadow: 0 20px 60px rgba(0,0,0,0.5);
    }
    @keyframes slideUp {
      from { transform: translateY(40px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    .modal-header {
      padding: 24px 28px;
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: linear-gradient(135deg, rgba(232,167,88,0.05), rgba(240,184,112,0.05));
    }
    .modal-header h2 {
      font-size: 20px;
      font-weight: 700;
      background: linear-gradient(135deg, var(--accent-teal), var(--accent-blue));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .modal-close {
      width: 32px; height: 32px;
      border-radius: 6px;
      background: var(--bg-card);
      border: 1px solid var(--border);
      color: var(--text-secondary);
      font-size: 18px;
      cursor: pointer;
      transition: all .2s;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .modal-close:hover {
      border-color: var(--accent-red);
      color: var(--accent-red);
      background: rgba(239,83,80,.08);
    }
    .modal-body {
      padding: 28px;
      overflow-y: auto;
      flex: 1;
    }
    .modal-body::-webkit-scrollbar { width: 8px; }
    .modal-body::-webkit-scrollbar-track { background: var(--bg-card); }
    .modal-body::-webkit-scrollbar-thumb { background: var(--accent-teal); border-radius: 4px; }
    .add-idea-form {
      display: block;
    }
    .add-idea-form .form-field {
      margin-bottom: 18px;
    }
    .add-idea-form .form-field label {
      display: block;
      font-size: 12px;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 8px;
    }
    .add-idea-form .form-field label .required {
      color: var(--accent-red);
      margin-left: 4px;
    }
    .add-idea-form .form-field input,
    .add-idea-form .form-field textarea,
    .add-idea-form .form-field select {
      width: 100%;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 12px 14px;
      font-size: 14px;
      color: var(--text-primary);
      font-family: inherit;
      transition: all .2s;
    }
    .add-idea-form .form-field textarea {
      resize: vertical;
      min-height: 120px;
      line-height: 1.6;
    }
    .add-idea-form .form-field input:focus,
    .add-idea-form .form-field textarea:focus,
    .add-idea-form .form-field select:focus {
      outline: none;
      border-color: var(--accent-teal);
      box-shadow: 0 0 0 3px rgba(232,167,88,.1);
    }
    .add-idea-form .form-field .hint {
      font-size: 11px;
      color: var(--text-muted);
      margin-top: 4px;
    }
    .add-idea-form .form-actions {
      display: flex;
      gap: 8px;
      justify-content: flex-end;
    }
    .form-actions .btn-small {
      padding: 8px 16px;
      font-size: 12px;
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      border: none;
      transition: all .2s;
    }
    .form-actions .btn-submit {
      background: var(--accent-teal);
      color: #0d0f1a;
    }
    .form-actions .btn-submit:hover {
      background: var(--accent-blue);
    }
    .form-actions .btn-cancel {
      background: var(--bg-secondary);
      color: var(--text-primary);
      border: 1px solid var(--border);
    }
    .form-actions .btn-cancel:hover {
      border-color: var(--accent-red);
      color: var(--accent-red);
    }

    /* ── Footer ──────────────────────────── */
    .footer {
      text-align: center;
      padding: 18px;
      font-size: 11px;
      color: var(--text-muted);
      border-top: 1px solid var(--border);
      margin-top: 40px;
    }
    .footer a { color: var(--accent-teal); text-decoration: none; }

    /* ── Responsive ──────────────────────── */
    @media (max-width: 1024px) {
      .main-grid {
        grid-template-columns: 1fr;
      }
    }
  
    /* ── Lucide outlined icons ── */
    .lucide {
      width: 1em;
      height: 1em;
      vertical-align: -0.125em;
      display: inline-block;
      stroke-width: 1.75;
    }
  </style>
</head>
<body>
<script src="auth-guard.js"></script>

<!-- ═══ HEADER ════════════════════════════════ -->
<header class="header-band">
  <div class="header-left">
    <div class="header-logo">∞</div>
    <div class="header-titles">
      <h1>Ananta</h1>
      <p>Manthan. Nirmaan. Drishti.</p>
    </div>
  </div>
  <div class="header-right">
    <a href="home.html" class="nav-link">Home</a>
    <a href="swim-lane.html" class="nav-link">Swim Lane</a>
    <a href="challenge-cards.html" class="nav-link active">Challenges</a>
    <a href="detail-dashboard.html" class="nav-link">Metrics</a>
    <a href="whats-next.html" class="nav-link whats-next-link">What's Next</a>
    <div class="notification-wrapper">
      <div class="notification-bell" onclick="toggleNotifications()">
        <i data-lucide="bell"></i>
        <span class="notification-badge" id="notifBadge">5</span>
      </div>
      <div class="notification-panel" id="notifPanel">
        <div class="notification-header">
          <h3>Notifications</h3>
          <span class="mark-all-read" onclick="markAllRead()">Mark all read</span>
        </div>
        <div class="notification-list">
          <div class="notification-item unread" data-id="1" onclick="handleNotificationClick(1, 'challenge-detail.html')">
            <div class="notification-icon challenge"><i data-lucide="flag"></i></div>
            <div class="notification-content">
              <div class="notification-title">New Challenge Submitted</div>
              <div class="notification-text">"Reduce Customer Churn" by R. Patel needs review</div>
              <div class="notification-time">5 minutes ago</div>
            </div>
          </div>
          <div class="notification-item unread" data-id="2" onclick="handleNotificationClick(2, 'idea-detail.html')">
            <div class="notification-icon idea"><i data-lucide="lightbulb"></i></div>
            <div class="notification-content">
              <div class="notification-title">New Idea Proposed</div>
              <div class="notification-text">"AI-Powered Retention Model" linked to CH-01</div>
              <div class="notification-time">23 minutes ago</div>
            </div>
          </div>
          <div class="notification-item unread" data-id="3" onclick="handleNotificationClick(3, 'challenge-detail.html')">
            <div class="notification-icon comment"><i data-lucide="message-circle"></i></div>
            <div class="notification-content">
              <div class="notification-title">New Comment</div>
              <div class="notification-text">S. Kumar commented on "Automate Invoice Reconciliation"</div>
              <div class="notification-time">1 hour ago</div>
            </div>
          </div>
          <div class="notification-item unread" data-id="4" onclick="handleNotificationClick(4, 'idea-detail.html')">
            <div class="notification-icon status"><i data-lucide="trending-up"></i></div>
            <div class="notification-content">
              <div class="notification-title">Status Update</div>
              <div class="notification-text">"Predictive Inventory" moved to Evaluation stage</div>
              <div class="notification-time">2 hours ago</div>
            </div>
          </div>
          <div class="notification-item unread" data-id="5" onclick="handleNotificationClick(5, 'challenge-detail.html')">
            <div class="notification-icon challenge"><i data-lucide="flag"></i></div>
            <div class="notification-content">
              <div class="notification-title">Challenge Updated</div>
              <div class="notification-text">Impact level changed for "Optimize Warehouse Layout"</div>
              <div class="notification-time">3 hours ago</div>
            </div>
          </div>
          <div class="notification-item" data-id="6" onclick="handleNotificationClick(6, 'detail-dashboard.html')">
            <div class="notification-icon status"><i data-lucide="trending-up"></i></div>
            <div class="notification-content">
              <div class="notification-title">Milestone Achieved</div>
              <div class="notification-text">Team reached 50 ideas submitted this quarter</div>
              <div class="notification-time">5 hours ago</div>
            </div>
          </div>
          <div class="notification-item" data-id="7" onclick="handleNotificationClick(7, 'profile.html')">
            <div class="notification-icon idea"><i data-lucide="lightbulb"></i></div>
            <div class="notification-content">
              <div class="notification-title">Idea Approved</div>
              <div class="notification-text">Your idea "Voice-Based Order Entry" approved for pilot</div>
              <div class="notification-time">1 day ago</div>
            </div>
          </div>
        </div>
        <div class="notification-footer">
          <a href="notifications.html" class="view-all-link">View All Notifications</a>
        </div>
      </div>
    </div>
    <a href="profile.html" class="avatar" title="Profile">A</a>
  </div>
</header>

<!-- ═══ MAIN CONTAINER ════════════════════════ -->
<div class="container">
  
  <!-- Breadcrumb -->
  <div class="breadcrumb">
    <a href="home.html">Home</a>
    <span class="sep">/</span>
    <a href="challenge-cards.html">Challenges</a>
    <span class="sep">/</span>
    <span class="current">CH-01</span>
  </div>

  <!-- Page Header -->
  <div class="page-header">
    <div class="page-header-top">
      <div class="page-header-left">
        <div class="challenge-id">
          <span class="priority-dot"></span>
          <span>CH-01</span>
        </div>
        <h1 class="page-title" id="pageTitle">Reduce Customer Churn by 15%</h1>
        <p class="page-subtitle" id="pageSubtitle">High-value segment losing 8% QoQ due to poor onboarding experience. Need to identify root causes and implement retention strategies.</p>
      </div>
      <div class="page-header-right">
        <button class="btn btn-primary" onclick="openIdeaModal()"><i data-lucide="lightbulb"></i> Post Idea</button>
        <button class="btn btn-secondary" id="editBtn" onclick="toggleEditMode()"><i data-lucide="pencil"></i> Edit</button>
        <button class="btn btn-primary" id="saveBtn" onclick="toggleEditMode()" style="display:none;"><i data-lucide="save"></i> Save</button>
        <button class="btn btn-secondary" id="cancelBtn" onclick="cancelEdit()" style="display:none;"><i data-lucide="x"></i> Cancel</button>
      </div>
    </div>
    <div class="meta-row">
      <div class="meta-item">
        <span class="icon"><i data-lucide="user"></i></span>
        <span>Owner: <strong>Ravi Patel</strong></span>
      </div>
      <div class="meta-item">
        <span class="icon"><i data-lucide="calendar"></i></span>
        <span>Created: <strong>Jan 15, 2026</strong></span>
      </div>
      <div class="meta-item">
        <span class="icon"><i data-lucide="refresh-cw"></i></span>
        <span>Updated: <strong>Feb 10, 2026</strong></span>
      </div>
      <div class="meta-item">
        <span class="icon"><i data-lucide="tag"></i></span>
        <span class="status-badge submitted" id="challengeStatusBadge"><i data-lucide="circle"></i> Challenge Submitted</span>
      </div>
    </div>
  </div>

  <!-- Main Grid -->
  <div class="main-grid">
    
    <!-- Left Column -->
    <div class="main-content">
      
      <!-- Problem Statement -->
      <div class="content-section">
        <div class="section-header">
          <h2 class="section-title">
            <span class="icon"><i data-lucide="circle-alert"></i></span>
            Problem Statement
          </h2>
        </div>
        <div class="section-content" id="problemContent">
          Our premium customer segment (lifetime value >$10K) is experiencing an alarming 8% quarter-over-quarter churn rate. 
          Exit interviews indicate that 63% of departing customers cite frustration with the onboarding process. 
          Competitors are offering smoother digital experiences, and we're losing market share as a result.
          <br><br>
          Key pain points identified:
          <ul style="margin-top: 8px; padding-left: 20px;">
            <li>Onboarding takes 14+ days vs industry average of 3-5 days</li>
            <li>Complex KYC process with multiple document submissions</li>
            <li>Lack of real-time progress tracking</li>
            <li>Minimal product education during initial weeks</li>
          </ul>
        </div>
      </div>

      <!-- Expected Outcome -->
      <div class="content-section">
        <div class="section-header">
          <h2 class="section-title">
            <span class="icon"><i data-lucide="flag"></i></span>
            Expected Outcome
          </h2>
        </div>
        <div class="section-content" id="outcomeContent">
          Reduce customer churn from 8% to below 3% within 6 months by implementing an improved onboarding experience.
          <br><br>
          Success metrics:
          <ul style="margin-top: 8px; padding-left: 20px;">
            <li>Onboarding completion time reduced to 5 days or less</li>
            <li>Customer satisfaction score (CSAT) for onboarding >4.5/5</li>
            <li>First-month product activation rate >80%</li>
            <li>Reduce churn in first 90 days by 50%</li>
          </ul>
        </div>
      </div>

      <!-- Additional Details -->
      <div class="content-section">
        <div class="section-header">
          <h2 class="section-title">
            <span class="icon"><i data-lucide="clipboard-list"></i></span>
            Additional Details
          </h2>
        </div>
        <div class="form-grid" id="detailsForm">
          <div class="form-group">
            <label class="form-label">Business Unit</label>
            <input type="text" class="form-input" value="Customer Experience" readonly id="businessUnit">
          </div>
          <div class="form-group">
            <label class="form-label">Department</label>
            <input type="text" class="form-input" value="Customer Success" readonly id="department">
          </div>
          <div class="form-group">
            <label class="form-label">Priority</label>
            <select class="form-select" disabled id="priority">
              <option value="high" selected>High</option>
              <option value="medium">Medium</option>
              <option value="low">Low</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">Estimated Impact</label>
            <input type="text" class="form-input" value="$2M annual revenue retention" readonly id="impact">
          </div>
          <div class="form-group full-width">
            <label class="form-label">Tags</label>
            <div class="tags-list">
              <span class="tag">Customer Experience</span>
              <span class="tag">Retention</span>
              <span class="tag">Onboarding</span>
              <span class="tag">Digital Transformation</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Activity Feed -->
      <div class="content-section">
        <div class="section-header">
          <h2 class="section-title">
            <span class="icon"><i data-lucide="message-circle"></i></span>
            Activity & Comments
          </h2>
        </div>
        
        <div class="activity-feed">
          <div class="activity-item">
            <div class="activity-avatar" style="background:var(--accent-teal)">RP</div>
            <div class="activity-content">
              <div class="activity-header">
                <span class="activity-author">Ravi Patel</span>
                <span class="activity-time">2 days ago</span>
              </div>
              <div class="activity-text">
                Created this challenge. Looking for innovative solutions to address our onboarding friction points.
              </div>
            </div>
          </div>
          <div class="activity-item">
            <div class="activity-avatar" style="background:var(--accent-blue)">SB</div>
            <div class="activity-content">
              <div class="activity-header">
                <span class="activity-author">Sarita Banerjee</span>
                <span class="activity-time">1 day ago</span>
              </div>
              <div class="activity-text">
                I've been researching ML-based churn prediction models. We could identify at-risk customers earlier in their journey. Would love to collaborate on this!
              </div>
            </div>
          </div>
          <div class="activity-item">
            <div class="activity-avatar" style="background:var(--accent-green)">AB</div>
            <div class="activity-content">
              <div class="activity-header">
                <span class="activity-author">Amit Basu</span>
                <span class="activity-time">5 hours ago</span>
              </div>
              <div class="activity-text">
                Have we looked at gamification for the onboarding process? Interactive tutorials with milestone rewards could significantly improve engagement.
              </div>
            </div>
          </div>
        </div>

        <div class="comment-box">
          <textarea class="comment-input" placeholder="Add a comment..."></textarea>
          <button class="btn btn-primary"><i data-lucide="message-circle"></i> Post Comment</button>
        </div>
      </div>

    </div>

    <!-- Right Sidebar -->
    <aside class="sidebar">
      
      <!-- Stats -->
      <div class="sidebar-section">
        <h3 class="sidebar-title"><i data-lucide="bar-chart-2"></i> Engagement Stats</h3>
        <div class="stat-row">
          <span class="stat-label">Views</span>
          <span class="stat-value blue">247</span>
        </div>
        <div class="stat-row">
          <span class="stat-label">Votes</span>
          <span class="stat-value green">42</span>
        </div>
        <div class="stat-row">
          <span class="stat-label">Comments</span>
          <span class="stat-value orange">8</span>
        </div>
        <div class="stat-row">
          <span class="stat-label">Ideas Submitted</span>
          <span class="stat-value green">8</span>
        </div>
      </div>

      <!-- Submitted Ideas -->
      <div class="sidebar-section ideas-section">
        <h3 class="sidebar-title">
          <span><i data-lucide="lightbulb"></i> Submitted Ideas</span>
          <span class="count" id="ideasTotalCount">8</span>
        </h3>

        <!-- Status Filter Tabs -->
        <div class="idea-filter-bar" id="ideaFilterBar">
          <button class="idea-filter-tab active-tab" data-filter="all" onclick="filterIdeas('all')">
            <span class="dot all"></span> All <span class="count" id="ideaCountAll">8</span>
          </button>
          <button class="idea-filter-tab" data-filter="active" onclick="filterIdeas('active')">
            <span class="dot green"></span> Active <span class="count" id="ideaCountActive">8</span>
          </button>
          <button class="idea-filter-tab" data-filter="pending" onclick="filterIdeas('pending')">
            <span class="dot yellow"></span> Pending <span class="count" id="ideaCountPending">0</span>
          </button>
          <button class="idea-filter-tab" data-filter="declined" onclick="filterIdeas('declined')">
            <span class="dot red"></span> Declined <span class="count" id="ideaCountDeclined">0</span>
          </button>
        </div>

        <div class="ideas-list" id="ideasList">
          <div class="idea-item" data-idea-id="IDX-001" data-status="active" onclick="navigateToIdea('IDX-001')">
            <div class="idea-title">AI Churn Prediction Model</div>
            <div class="idea-meta">
              <span>by S. Banerjee</span>
              <span class="idea-badge active">Active</span>
            </div>
            <div class="idea-stats">
              <span><i data-lucide="thumbs-up"></i> 24</span>
              <span><i data-lucide="message-circle"></i> 7</span>
              <span><i data-lucide="eye"></i> 156</span>
            </div>
          </div>
          <div class="idea-item" data-idea-id="IDX-002" data-status="active" onclick="navigateToIdea('IDX-002')">
            <div class="idea-title">Gamified Onboarding Flow</div>
            <div class="idea-meta">
              <span>by M. Singh</span>
              <span class="idea-badge active">Active</span>
            </div>
            <div class="idea-stats">
              <span><i data-lucide="thumbs-up"></i> 18</span>
              <span><i data-lucide="message-circle"></i> 5</span>
              <span><i data-lucide="eye"></i> 132</span>
            </div>
          </div>
          <div class="idea-item" data-idea-id="IDX-003" data-status="active" onclick="navigateToIdea('IDX-003')">
            <div class="idea-title">Personalized Tutorial System</div>
            <div class="idea-meta">
              <span>by A. Basu</span>
              <span class="idea-badge active">Active</span>
            </div>
            <div class="idea-stats">
              <span><i data-lucide="thumbs-up"></i> 31</span>
              <span><i data-lucide="message-circle"></i> 12</span>
              <span><i data-lucide="eye"></i> 203</span>
            </div>
          </div>
          <div class="idea-item" data-idea-id="IDX-004" data-status="active" onclick="navigateToIdea('IDX-004')">
            <div class="idea-title">Retention Offer Engine</div>
            <div class="idea-meta">
              <span>by R. Sharma</span>
              <span class="idea-badge active">Active</span>
            </div>
            <div class="idea-stats">
              <span><i data-lucide="thumbs-up"></i> 27</span>
              <span><i data-lucide="message-circle"></i> 9</span>
              <span><i data-lucide="eye"></i> 178</span>
            </div>
          </div>
          <div class="idea-item" data-idea-id="IDX-005" data-status="active" onclick="navigateToIdea('IDX-005')">
            <div class="idea-title">Customer Health Dashboard</div>
            <div class="idea-meta">
              <span>by P. Kumar</span>
              <span class="idea-badge active">Active</span>
            </div>
            <div class="idea-stats">
              <span><i data-lucide="thumbs-up"></i> 22</span>
              <span><i data-lucide="message-circle"></i> 6</span>
              <span><i data-lucide="eye"></i> 145</span>
            </div>
          </div>
          <div class="idea-item" data-idea-id="IDX-006" data-status="active" onclick="navigateToIdea('IDX-006')">
            <div class="idea-title">Smart Segmentation AI</div>
            <div class="idea-meta">
              <span>by N. Reddy</span>
              <span class="idea-badge active">Active</span>
            </div>
            <div class="idea-stats">
              <span><i data-lucide="thumbs-up"></i> 15</span>
              <span><i data-lucide="message-circle"></i> 4</span>
              <span><i data-lucide="eye"></i> 98</span>
            </div>
          </div>
          <div class="idea-item" data-idea-id="IDX-007" data-status="active" onclick="navigateToIdea('IDX-007')">
            <div class="idea-title">Automated Account Alerts</div>
            <div class="idea-meta">
              <span>by V. Gupta</span>
              <span class="idea-badge active">Active</span>
            </div>
            <div class="idea-stats">
              <span><i data-lucide="thumbs-up"></i> 19</span>
              <span><i data-lucide="message-circle"></i> 3</span>
              <span><i data-lucide="eye"></i> 112</span>
            </div>
          </div>
          <div class="idea-item" data-idea-id="IDX-008" data-status="active" onclick="navigateToIdea('IDX-008')">
            <div class="idea-title">Customer Journey Analytics</div>
            <div class="idea-meta">
              <span>by D. Mehta</span>
              <span class="idea-badge active">Active</span>
            </div>
            <div class="idea-stats">
              <span><i data-lucide="thumbs-up"></i> 29</span>
              <span><i data-lucide="message-circle"></i> 11</span>
              <span><i data-lucide="eye"></i> 187</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Team -->
      <div class="sidebar-section">
        <h3 class="sidebar-title"><i data-lucide="users"></i> Team Members</h3>
        <div style="display: flex; flex-direction: column; gap: 12px;">
          <div style="display: flex; align-items: center; gap: 10px;">
            <div style="width: 32px; height: 32px; border-radius: 50%; background: var(--accent-teal); display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 13px; color: #0d0f1a;">RP</div>
            <div>
              <div style="font-size: 13px; font-weight: 600;">Ravi Patel</div>
              <div style="font-size: 11px; color: var(--text-muted);">Owner</div>
            </div>
          </div>
          <div style="display: flex; align-items: center; gap: 10px;">
            <div style="width: 32px; height: 32px; border-radius: 50%; background: var(--accent-blue); display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 13px; color: #0d0f1a;">SB</div>
            <div>
              <div style="font-size: 13px; font-weight: 600;">Sarita Banerjee</div>
              <div style="font-size: 11px; color: var(--text-muted);">Contributor</div>
            </div>
          </div>
          <div style="display: flex; align-items: center; gap: 10px;">
            <div style="width: 32px; height: 32px; border-radius: 50%; background: var(--accent-green); display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 13px; color: #0d0f1a;">AB</div>
            <div>
              <div style="font-size: 13px; font-weight: 600;">Amit Basu</div>
              <div style="font-size: 11px; color: var(--text-muted);">Contributor</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Actions -->
      <div class="sidebar-section">
        <h3 class="sidebar-title"><i data-lucide="zap"></i> Quick Actions</h3>
        <div style="display: flex; flex-direction: column; gap: 8px;">
          <button class="btn btn-secondary" style="width: 100%; justify-content: center;"><i data-lucide="thumbs-up"></i> Vote for This</button>
          <button class="btn btn-secondary" style="width: 100%; justify-content: center;" onclick="openIdeaModal()"><i data-lucide="lightbulb"></i> Post Idea</button>
          <button class="btn btn-secondary" style="width: 100%; justify-content: center;"><i data-lucide="bell"></i> Subscribe</button>
          <button class="btn btn-danger" style="width: 100%; justify-content: center;"><i data-lucide="trash-2"></i> Delete</button>
        </div>
      </div>

    </aside>

  </div>

</div>

<!-- ═══ FOOTER ════════════════════════════════ -->
<footer class="footer">
  Copyright © 2026, <a href="#">www.tcs.com</a> · Developed with human brain, artificial neurons, love, passion, and GPUs at
  <strong>The TCS-Ahold Delhaize engineering LABS</strong>, Kolkata ODC (Gitanjali Park – L14).
</footer>

<!-- ═══ ADD IDEA MODAL ════════════════════════ -->
<div class="modal-overlay" id="ideaModal">
  <div class="modal-dialog">
    <div class="modal-header">
      <h2 id="ideaModalTitle"><i data-lucide="lightbulb"></i> Submit New Idea</h2>
      <button class="modal-close" onclick="closeIdeaModal()"><i data-lucide="x"></i></button>
    </div>
    <div class="modal-body">
      <form class="add-idea-form" id="addIdeaForm">
        <div class="form-field">
          <label>Idea Title <span class="required">*</span></label>
          <input type="text" placeholder="Enter a descriptive title for your idea..." id="ideaTitle" required />
          <div class="hint">Keep it concise and descriptive (max 100 characters)</div>
        </div>
        
        <div class="form-field">
          <label>Solution Description <span class="required">*</span></label>
          <textarea placeholder="Describe your solution in detail. What problem does it solve? How would it work?" id="ideaDesc" required></textarea>
          <div class="hint">Include technical details, benefits, and expected outcomes</div>
        </div>
        
        <div class="form-field">
          <label>Category</label>
          <select id="ideaCategory">
            <option value="">Select a category</option>
            <option value="technology">Technology/Automation</option>
            <option value="process">Process Improvement</option>
            <option value="customer">Customer Experience</option>
            <option value="data">Data & Analytics</option>
            <option value="other">Other</option>
          </select>
        </div>
        
        <div class="form-field">
          <label>Expected Impact</label>
          <input type="text" placeholder="e.g., 20% efficiency gain, €500K annual savings" id="ideaImpact" />
          <div class="hint">Quantify the potential business impact if possible</div>
        </div>
        
        <div class="form-actions">
          <button type="button" class="btn-small btn-cancel" onclick="closeIdeaModal()"><i data-lucide="x"></i> Cancel</button>
          <button type="submit" class="btn-small btn-submit"><i data-lucide="rocket"></i> Submit Idea</button>
        </div>
      </form>
    </div>
  </div>
</div>

<script>
let editMode = false;
let originalData = {};

function toggleEditMode() {
  editMode = !editMode;
  
  const editBtn = document.getElementById('editBtn');
  const saveBtn = document.getElementById('saveBtn');
  const cancelBtn = document.getElementById('cancelBtn');
  const pageTitle = document.getElementById('pageTitle');
  const pageSubtitle = document.getElementById('pageSubtitle');
  const problemContent = document.getElementById('problemContent');
  const outcomeContent = document.getElementById('outcomeContent');
  const businessUnit = document.getElementById('businessUnit');
  const department = document.getElementById('department');
  const priority = document.getElementById('priority');
  const impact = document.getElementById('impact');

  if (editMode) {
    // Save original data
    originalData = {
      title: pageTitle.textContent,
      subtitle: pageSubtitle.textContent,
      problem: problemContent.innerHTML,
      outcome: outcomeContent.innerHTML,
      businessUnit: businessUnit.value,
      department: department.value,
      priority: priority.value,
      impact: impact.value
    };

    // Switch to edit mode
    editBtn.style.display = 'none';
    saveBtn.style.display = 'inline-flex';
    cancelBtn.style.display = 'inline-flex';

    // Convert title to textarea
    const titleValue = pageTitle.textContent;
    const titleTextarea = document.createElement('textarea');
    titleTextarea.className = 'page-title edit-mode';
    titleTextarea.id = 'pageTitle';
    titleTextarea.value = titleValue;
    pageTitle.replaceWith(titleTextarea);

    // Convert subtitle to textarea
    const subtitleValue = pageSubtitle.textContent;
    const subtitleTextarea = document.createElement('textarea');
    subtitleTextarea.className = 'page-subtitle edit-mode';
    subtitleTextarea.id = 'pageSubtitle';
    subtitleTextarea.value = subtitleValue;
    pageSubtitle.replaceWith(subtitleTextarea);

    // Convert problem content to textarea
    const problemTextarea = document.createElement('textarea');
    problemTextarea.className = 'section-content edit-mode';
    problemTextarea.id = 'problemContent';
    problemTextarea.value = problemContent.textContent.trim();
    problemContent.replaceWith(problemTextarea);

    // Convert outcome content to textarea
    const outcomeTextarea = document.createElement('textarea');
    outcomeTextarea.className = 'section-content edit-mode';
    outcomeTextarea.id = 'outcomeContent';
    outcomeTextarea.value = outcomeContent.textContent.trim();
    outcomeContent.replaceWith(outcomeTextarea);

    // Enable form inputs
    businessUnit.removeAttribute('readonly');
    department.removeAttribute('readonly');
    priority.removeAttribute('disabled');
    impact.removeAttribute('readonly');

  } else {
    // Save and exit edit mode
    editBtn.style.display = 'inline-flex';
    saveBtn.style.display = 'none';
    cancelBtn.style.display = 'none';

    // Get current textarea for title
    const titleTextarea = document.getElementById('pageTitle');
    const titleValue = titleTextarea.value;
    const titleH1 = document.createElement('h1');
    titleH1.className = 'page-title';
    titleH1.id = 'pageTitle';
    titleH1.textContent = titleValue;
    titleTextarea.replaceWith(titleH1);

    // Get current textarea for subtitle
    const subtitleTextarea = document.getElementById('pageSubtitle');
    const subtitleValue = subtitleTextarea.value;
    const subtitleP = document.createElement('p');
    subtitleP.className = 'page-subtitle';
    subtitleP.id = 'pageSubtitle';
    subtitleP.textContent = subtitleValue;
    subtitleTextarea.replaceWith(subtitleP);

    // Convert problem textarea back to div
    const problemTextarea = document.getElementById('problemContent');
    const problemDiv = document.createElement('div');
    problemDiv.className = 'section-content';
    problemDiv.id = 'problemContent';
    problemDiv.textContent = problemTextarea.value;
    problemTextarea.replaceWith(problemDiv);

    // Convert outcome textarea back to div
    const outcomeTextarea = document.getElementById('outcomeContent');
    const outcomeDiv = document.createElement('div');
    outcomeDiv.className = 'section-content';
    outcomeDiv.id = 'outcomeContent';
    outcomeDiv.textContent = outcomeTextarea.value;
    outcomeTextarea.replaceWith(outcomeDiv);

    // Disable form inputs
    document.getElementById('businessUnit').setAttribute('readonly', 'readonly');
    document.getElementById('department').setAttribute('readonly', 'readonly');
    document.getElementById('priority').setAttribute('disabled', 'disabled');
    document.getElementById('impact').setAttribute('readonly', 'readonly');
  }
}

function cancelEdit() {
  editMode = false;
  
  const editBtn = document.getElementById('editBtn');
  const saveBtn = document.getElementById('saveBtn');
  const cancelBtn = document.getElementById('cancelBtn');

  editBtn.style.display = 'inline-flex';
  saveBtn.style.display = 'none';
  cancelBtn.style.display = 'none';

  // Restore original title
  const titleTextarea = document.getElementById('pageTitle');
  const titleH1 = document.createElement('h1');
  titleH1.className = 'page-title';
  titleH1.id = 'pageTitle';
  titleH1.textContent = originalData.title;
  titleTextarea.replaceWith(titleH1);

  // Restore original subtitle
  const subtitleTextarea = document.getElementById('pageSubtitle');
  const subtitleP = document.createElement('p');
  subtitleP.className = 'page-subtitle';
  subtitleP.id = 'pageSubtitle';
  subtitleP.textContent = originalData.subtitle;
  subtitleTextarea.replaceWith(subtitleP);

  // Restore problem content
  const problemTextarea = document.getElementById('problemContent');
  const problemDiv = document.createElement('div');
  problemDiv.className = 'section-content';
  problemDiv.id = 'problemContent';
  problemDiv.innerHTML = originalData.problem;
  problemTextarea.replaceWith(problemDiv);

  // Restore outcome content
  const outcomeTextarea = document.getElementById('outcomeContent');
  const outcomeDiv = document.createElement('div');
  outcomeDiv.className = 'section-content';
  outcomeDiv.id = 'outcomeContent';
  outcomeDiv.innerHTML = originalData.outcome;
  outcomeTextarea.replaceWith(outcomeDiv);

  // Restore form values
  document.getElementById('businessUnit').value = originalData.businessUnit;
  document.getElementById('department').value = originalData.department;
  document.getElementById('priority').value = originalData.priority;
  document.getElementById('impact').value = originalData.impact;

  // Disable form inputs
  document.getElementById('businessUnit').setAttribute('readonly', 'readonly');
  document.getElementById('department').setAttribute('readonly', 'readonly');
  document.getElementById('priority').setAttribute('disabled', 'disabled');
  document.getElementById('impact').setAttribute('readonly', 'readonly');
}

// Modal functions
function openIdeaModal() {
  document.getElementById('ideaModal').classList.add('active');
  document.body.style.overflow = 'hidden';
}

function closeIdeaModal() {
  document.getElementById('ideaModal').classList.remove('active');
  document.body.style.overflow = '';
  document.getElementById('ideaModalTitle').innerHTML = '<i data-lucide="lightbulb"></i> Submit New Idea';
  document.getElementById('addIdeaForm').reset();
  if (typeof lucide !== 'undefined') lucide.createIcons();
}

// Close on overlay click
document.getElementById('ideaModal').addEventListener('click', (e) => {
  if (e.target.id === 'ideaModal') {
    closeIdeaModal();
  }
});

// Close on Escape key
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape' && document.getElementById('ideaModal').classList.contains('active')) {
    closeIdeaModal();
  }
});

// Form submission
document.getElementById('addIdeaForm').addEventListener('submit', (e) => {
  e.preventDefault();
  
  const title = document.getElementById('ideaTitle').value.trim();
  const desc = document.getElementById('ideaDesc').value.trim();
  
  if (!title || !desc) {
    alert('Please fill in all required fields');
    return;
  }
  
  const ideaData = {
    title,
    description: desc,
    category: document.getElementById('ideaCategory').value,
    impact: document.getElementById('ideaImpact').value,
    challengeId: 'CH-01',
    submittedAt: new Date().toISOString()
  };

  // Add author info and status
  const user = JSON.parse(localStorage.getItem('ip_user') || '{}');
  ideaData.authorEmail = (user.email || '').toLowerCase();
  ideaData.authorName = user.name || 'Unknown';
  ideaData.id = 'ID-' + String(Date.now()).slice(-4);

  const isAdmin = localStorage.getItem('ananta-admin') === '1';
  if (isAdmin) {
    ideaData.status = 'approved';
    const approved = JSON.parse(localStorage.getItem('ip_approved_ideas') || '[]');
    approved.push(ideaData);
    localStorage.setItem('ip_approved_ideas', JSON.stringify(approved));
  } else {
    ideaData.status = 'pending';
    const pending = JSON.parse(localStorage.getItem('ip_pending_ideas') || '[]');
    pending.push(ideaData);
    localStorage.setItem('ip_pending_ideas', JSON.stringify(pending));
  }

  console.log('Idea submitted:', ideaData);

  // Toast notification
  if (isAdmin) {
    showToast({ type: 'success', title: 'Idea Auto-Approved', message: 'As an admin, your idea is now live and visible to all users.' });
  } else {
    showToast({ type: 'pending', title: 'Awaiting Admin Approval', message: 'Your idea has been submitted and is pending admin review. You will be notified once approved.' });
  }
  
  // Change title to show success
  document.getElementById('ideaModalTitle').innerHTML = '<i data-lucide="circle-check"></i> Idea Submitted Successfully!';
  if (typeof lucide !== 'undefined') lucide.createIcons();
  
  // Reset and close
  setTimeout(() => {
    closeIdeaModal();
    // Optionally reload to show new idea in list
    location.reload();
  }, 2000);
});

function navigateToIdea(ideaId) {
  window.location.href = 'idea-detail.html?id=' + encodeURIComponent(ideaId);
}

// ═══ IDEA STATUS FILTER & DYNAMIC RENDERING ═══ //
let currentIdeaFilter = 'all';

function filterIdeas(status) {
  currentIdeaFilter = status;
  // Update active tab
  document.querySelectorAll('.idea-filter-tab').forEach(tab => {
    tab.classList.toggle('active-tab', tab.dataset.filter === status);
  });
  applyIdeaFilter();
}

function applyIdeaFilter() {
  const items = document.querySelectorAll('#ideasList .idea-item');
  let visible = 0;
  items.forEach(item => {
    const s = item.dataset.status;
    const show = currentIdeaFilter === 'all' || s === currentIdeaFilter;
    item.style.display = show ? '' : 'none';
    if (show) visible++;
  });
  // Empty state
  let empty = document.getElementById('ideaEmptyState');
  if (visible === 0) {
    if (!empty) {
      empty = document.createElement('div');
      empty.id = 'ideaEmptyState';
      empty.className = 'idea-empty-state';
      empty.innerHTML = '<div class="icon"><i data-lucide="inbox"></i></div><div>No ideas found for this filter</div>';
      document.getElementById('ideasList').appendChild(empty);
      if (typeof lucide !== 'undefined') lucide.createIcons();
    }
    empty.style.display = '';
  } else if (empty) {
    empty.style.display = 'none';
  }
}

function updateIdeaCounts() {
  const items = document.querySelectorAll('#ideasList .idea-item');
  let counts = { all: 0, active: 0, pending: 0, declined: 0 };
  items.forEach(item => {
    const s = item.dataset.status;
    counts.all++;
    if (counts[s] !== undefined) counts[s]++;
  });
  document.getElementById('ideaCountAll').textContent = counts.all;
  document.getElementById('ideaCountActive').textContent = counts.active;
  document.getElementById('ideaCountPending').textContent = counts.pending;
  document.getElementById('ideaCountDeclined').textContent = counts.declined;
  document.getElementById('ideasTotalCount').textContent = counts.all;
}

// ── Render dynamic ideas from localStorage ──
(function renderDynamicIdeas() {
  const list = document.getElementById('ideasList');
  const isAdmin = localStorage.getItem('ananta-admin') === '1';
  const currentUser = JSON.parse(localStorage.getItem('ip_user') || '{}');
  const currentEmail = (currentUser.email || '').toLowerCase();

  function ownerTag(email) {
    return email === currentEmail ? '<span class="owner-badge"><i data-lucide="user" style="width:10px;height:10px"></i> You</span>' : '';
  }
  function mineClass(email) {
    return email === currentEmail ? ' is-mine' : '';
  }

  // Approved ideas → Active
  const approved = JSON.parse(localStorage.getItem('ip_approved_ideas') || '[]');
  approved.forEach(idea => {
    const isMine = (idea.authorEmail || '') === currentEmail;
    const card = document.createElement('div');
    card.className = 'idea-item' + mineClass(idea.authorEmail);
    card.dataset.ideaId = idea.id;
    card.dataset.status = 'active';
    card.onclick = () => navigateToIdea(idea.id);
    card.innerHTML = `
      <div class="idea-title">${idea.title}${ownerTag(idea.authorEmail)}</div>
      <div class="idea-meta">
        <span>by ${idea.authorName || 'Unknown'}</span>
        <span class="idea-badge active">Active</span>
      </div>
      <div class="idea-stats">
        <span><i data-lucide="thumbs-up"></i> 0</span>
        <span><i data-lucide="message-circle"></i> 0</span>
        <span><i data-lucide="calendar"></i> ${new Date(idea.submittedAt).toLocaleDateString('en-GB',{day:'2-digit',month:'short'})}</span>
      </div>
    `;
    list.appendChild(card);
  });

  // Pending ideas → visible to admin OR author only
  const pending = JSON.parse(localStorage.getItem('ip_pending_ideas') || '[]');
  pending.forEach(idea => {
    const isMine = (idea.authorEmail || '') === currentEmail;
    if (!isAdmin && !isMine) return; // non-owner non-admin can't see others' pending
    const card = document.createElement('div');
    card.className = 'idea-item' + mineClass(idea.authorEmail);
    card.dataset.ideaId = idea.id;
    card.dataset.status = 'pending';
    card.onclick = () => navigateToIdea(idea.id);
    card.innerHTML = `
      <div class="idea-title">${idea.title}${ownerTag(idea.authorEmail)}</div>
      <div class="idea-meta">
        <span>by ${idea.authorName || 'Unknown'}</span>
        <span class="idea-badge pending">Pending</span>
      </div>
      <div class="idea-stats">
        <span><i data-lucide="clock"></i> Awaiting approval</span>
        <span><i data-lucide="calendar"></i> ${new Date(idea.submittedAt).toLocaleDateString('en-GB',{day:'2-digit',month:'short'})}</span>
      </div>
    `;
    list.appendChild(card);
  });

  // Rejected ideas → visible to ALL users
  const rejected = JSON.parse(localStorage.getItem('ip_rejected_ideas') || '[]');
  rejected.forEach(idea => {
    const isMine = (idea.authorEmail || '') === currentEmail;
    const card = document.createElement('div');
    card.className = 'idea-item' + mineClass(idea.authorEmail);
    card.dataset.ideaId = idea.id;
    card.dataset.status = 'declined';
    card.onclick = () => navigateToIdea(idea.id);
    card.innerHTML = `
      <div class="idea-title">${idea.title}${ownerTag(idea.authorEmail)}</div>
      <div class="idea-meta">
        <span>by ${idea.authorName || 'Unknown'}</span>
        <span class="idea-badge declined">Declined</span>
      </div>
      <div class="idea-stats">
        <span><i data-lucide="x-circle"></i> Rejected</span>
        <span><i data-lucide="calendar"></i> ${new Date(idea.rejectedAt || idea.submittedAt).toLocaleDateString('en-GB',{day:'2-digit',month:'short'})}</span>
      </div>
    `;
    list.appendChild(card);
  });

  if (typeof lucide !== 'undefined') lucide.createIcons();

  updateIdeaCounts();

  // Show/hide Pending tab: only admin or users who have own pending
  const hasPending = isAdmin || pending.some(i => (i.authorEmail || '') === currentEmail);
  if (!hasPending) {
    const pendingTab = document.querySelector('.idea-filter-tab[data-filter="pending"]');
    if (pendingTab) pendingTab.style.display = 'none';
  }

  applyIdeaFilter();
})();

// ═══ NOTIFICATION FUNCTIONS ═══ //
function toggleNotifications() {
  const panel = document.getElementById('notifPanel');
  panel.classList.toggle('active');
}

function markAllRead() {
  const items = document.querySelectorAll('.notification-item.unread');
  items.forEach(item => item.classList.remove('unread'));
  const badge = document.getElementById('notifBadge');
  badge.textContent = '0';
  badge.style.display = 'none';
}

function handleNotificationClick(id, url) {
  // Mark as read
  const item = document.querySelector(`.notification-item[data-id="${id}"]`);
  if (item && item.classList.contains('unread')) {
    item.classList.remove('unread');
    const badge = document.getElementById('notifBadge');
    let count = parseInt(badge.textContent) - 1;
    badge.textContent = count;
    if (count === 0) badge.style.display = 'none';
  }
  // Navigate
  if (url) window.location.href = url;
}

// Close notification panel when clicking outside
document.addEventListener('click', function(e) {
  const panel = document.getElementById('notifPanel');
  const bell = document.querySelector('.notification-bell');
  if (panel && bell && !panel.contains(e.target) && !bell.contains(e.target)) {
    panel.classList.remove('active');
  }
});

// ═══ DYNAMIC STATUS BADGE BASED ON CHALLENGE STATE ═══ //
(function updateChallengeStatus() {
  const badge = document.getElementById('challengeStatusBadge');
  if (!badge) return;

  // Try to determine current challenge from URL or breadcrumb
  const params = new URLSearchParams(window.location.search);
  const challengeId = params.get('id') || document.querySelector('.challenge-id span:last-child')?.textContent?.trim();
  if (!challengeId) return;

  const currentUser = JSON.parse(localStorage.getItem('ip_user') || '{}');
  const currentEmail = (currentUser.email || '').toLowerCase();
  const isAdmin = localStorage.getItem('ananta-admin') === '1';

  // Check rejected
  const rejected = JSON.parse(localStorage.getItem('ip_rejected_challenges') || '[]');
  const rejectedMatch = rejected.find(c => c.id === challengeId);
  if (rejectedMatch && (isAdmin || rejectedMatch.authorEmail === currentEmail)) {
    badge.className = 'status-badge declined-status';
    badge.innerHTML = '<i data-lucide="x-circle"></i> Request Declined';
    // Tint the page header border red
    const header = document.querySelector('.page-header');
    if (header) header.style.borderTopColor = 'var(--accent-red)';
    if (typeof lucide !== 'undefined') lucide.createIcons();
    return;
  }

  // Check pending
  const pending = JSON.parse(localStorage.getItem('ip_pending_challenges') || '[]');
  const pendingMatch = pending.find(c => c.id === challengeId);
  if (pendingMatch && (isAdmin || pendingMatch.authorEmail === currentEmail)) {
    badge.className = 'status-badge pending-status';
    badge.innerHTML = '<i data-lucide="clock"></i> Pending Approval';
    const header = document.querySelector('.page-header');
    if (header) header.style.borderTopColor = 'var(--accent-yellow)';
    if (typeof lucide !== 'undefined') lucide.createIcons();
    return;
  }

  // Check approved
  const approved = JSON.parse(localStorage.getItem('ip_approved_challenges') || '[]');
  const approvedMatch = approved.find(c => c.id === challengeId);
  if (approvedMatch) {
    badge.className = 'status-badge active-status';
    badge.innerHTML = '<i data-lucide="check-circle"></i> Currently Active';
    const header = document.querySelector('.page-header');
    if (header) header.style.borderTopColor = 'var(--accent-green)';
    if (typeof lucide !== 'undefined') lucide.createIcons();
    return;
  }

  // Static/hardcoded challenges default to Active
  badge.className = 'status-badge active-status';
  badge.innerHTML = '<i data-lucide="check-circle"></i> Currently Active';
  if (typeof lucide !== 'undefined') lucide.createIcons();
})();
</script>

<script src="toast.js"></script>
<script src="dynamic-notifications.js"></script>
<script src="admin-toggle.js"></script>

<script src="https://unpkg.com/lucide@latest"></script>
<script>lucide.createIcons();</script>
</body>
</html>
